<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Desenvolvimento de Exploits no Windows</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Desenvolvimento de Exploits no Windows</h1><br/><p>																OBJETIVO</p><p>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</p><p>Aprender a identificar e explorar vulnerabilidades de buffer overflow em softwares e ao final escrever um exploit</p><p>capaz de explorar a vulnerabilidade remotamente</p><p><ol><li>Coleta de informações (Identificar o software e entender como funciona a comunicação)</li><li>Fuzzing (enviar diversos tipos de dados afim de testar o comportamento do software)</li><li>Identificar a vulnerabilidade (Atingir EIP)</li><li>Controlar EIP (validar espaço) → Controlar o fluxo do programa</li><li>Identificar BadChars (Caracteres Inválidos) </li><li>Identificar o endereço de retorno</li><li>Testar a execução</li><li>Gerar o shellcode</li><li>Exploit Final</li></ol></p><p></p><p>							Contexto</p><p>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</p><p>Aplicação em rede rodando um Windows 10 Enterprise </p><p>atualizado com Antivirus e Firewall ativado</p><p><ul><li>Vamos executar o netserver.exe no Windows e vamos entrar nele com o Karlinho Linux</li><li>A conexão será feita via <span style="color:#33d17a;">nc</span>:</p><p></li></ul><div class="codebox"><pre>nc -v 172.15.0.97 5800</pre></div></p><p></p><p>Vamos interagir com um script em python:</p><p><div class="codebox"><pre><span style="color:#0088ff;font-weight:400">#!/usr/bin/python</span><br /><span style="color:#333333;font-weight:400">import</span> socket<br /><br />s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)<br />s.connect((<span style="color:#3ad900;font-weight:400">&quot;172.15.0.97&quot;</span>,<span style="color:#ff0044;font-weight:400">5800</span>))<br />banner = s.recv(<span style="color:#ff0044;font-weight:400">1024</span>)<br /><span style="color:#ff9d00;font-weight:700">print</span> (banner)<br />cmd = <span style="color:#3ad900;font-weight:400">&quot;HELP\r\n&quot;</span><br />s.send(cmd.encode())<br />s = s.recv(<span style="color:#ff0044;font-weight:400">1024</span>)<br /><span style="color:#ff9d00;font-weight:700">print</span> (r)</pre></div><ul><li>Executamos com python2</p><p></li></ul></p></div>
</body>
</html>
